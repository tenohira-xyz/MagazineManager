# 詳細
- サーバサイドの処理を記述する。（= Controller）
- 権限やセッション切れのチェックはSpring側で実施するため、独自に判断する処理は不要。
- URLに含まれるパラメータの存在チェックは不要。（404エラーとして処理する）

## セキュリティ設定事項
### ログイン無しでもアクセス可能な画面
- ログイン画面
- 雑誌一覧画面
- 雑誌詳細画面
- 目次画面
- 索引画面

### ログインが必要な画面
- 雑誌新規登録画面

### ログイン処理
#### ログイン画面のURL(GET)
/login
#### ログイン処理のURL(POST)
/login
#### ログイン失敗時の遷移先URL
/login
#### ログイン成功時の遷移先URL
/list
#### ログインフォームとのマッピング
##### ユーザ名
userName
##### パスワード
password

### ログアウト処理
#### ログアウト処理のURL
/logout
#### ログアウト後に遷移するURL
/list

### セッション管理
#### セッションエラー後の遷移先URL
/error


## 雑誌一覧画面
### 初期表示
1. 雑誌リポジトリクラスの雑誌一覧取得メソッドを呼び出して、雑誌レコードのリストを取得する。
1. 取得した情報を画面のDTOに詰める。
1. 「magazineList.html」の内容を表示する。
### 削除
1. 「雑誌ID」を雑誌リポジトリクラスの存在チェックメソッドに渡し、指定した雑誌のレコードが存在するかチェックする。
    1. 存在しない場合、雑誌非存在例外を発生させ、エラー画面に遷移する。
1. 「雑誌ID」を雑誌リポジトリクラスの削除メソッドに渡して、削除処理を実行する。
1. 削除処理の実行結果を比較
    1. 成功した場合、雑誌一覧画面に遷移する。
    1. 失敗した場合、共通エラー画面に遷移する。

## 雑誌新規登録画面
### 初期表示
1. 「register.html」の内容を表示する。
### 登録
1. 入力チェックを行う。
    1. エラーがある場合は当画面に遷移する。
1. フォームに入力された「雑誌名」と「号数」を雑誌リポジトリクラスの存在チェックメソッドに渡し、指定した雑誌のレコードが存在するかチェックする。
    1. 存在する場合、雑誌登録済例外を発生させ、エラー画面に遷移する。
1. 「雑誌名」と「号数」を雑誌リポジトリクラスの登録メソッドに渡して、登録処理を実行する。
1. 登録処理の実行結果を比較
    1. 成功した場合、雑誌一覧画面に遷移する。
    1. 失敗した場合、共通エラー画面に遷移する。

## 雑誌詳細画面
### 初期表示
1. 「雑誌ID」を雑誌リポジトリクラスの存在チェックメソッドに渡し、指定した雑誌のレコードが存在するかチェックする。
    1. 存在しない場合、雑誌非存在例外を発生させ、エラー画面に遷移する。
1. 「雑誌ID」を雑誌リポジトリクラスの雑誌取得メソッドに渡し、指定した雑誌のレコードを取得する。
1. 取得した情報を画面のDTOに詰める。
1. 「detail.html」の内容を表示する。
### 更新
1. 「雑誌ID」を雑誌リポジトリクラスの存在チェックメソッドに渡し、指定した雑誌のレコードが存在するかチェックする。
    1. 存在しない場合、雑誌非存在例外を発生させ、エラー画面に遷移する。
1. 入力チェックを行う。
    1. エラーがある場合は当画面に遷移する。
1. 「雑誌ID」「雑誌名」「号数」「出版社」「発行日」を雑誌リポジトリクラスの更新メソッドに渡して、更新処理を実行する。
1. 更新処理の実行結果を比較
    1. 成功した場合、雑誌一覧画面に遷移する。
    1. 失敗した場合、共通エラー画面に遷移する。

## 目次画面
### 初期表示
1. 「雑誌ID」を雑誌リポジトリクラスの存在チェックメソッドに渡し、指定した雑誌のレコードが存在するかチェックする。
    1. 存在しない場合、雑誌非存在例外を発生させ、エラー画面に遷移する。
1. 「雑誌ID」を記事リポジトリクラスの複数レコード取得メソッドに渡し、指定した雑誌の記事レコードのリストを取得する。
1. 取得した情報を画面のDTOに詰める。
1. 「contentsList.html」の内容を表示する。
### 削除
1. 記事リストから指定した位置にあるオブジェクトを削除する。
1. 「contentsList.html」の内容を表示する。
### 登録
1. 記事リストの一番下にオブジェクトを追加する。
1. 「contentsList.html」の内容を表示する。
### 登録
1. 「雑誌ID」を雑誌リポジトリクラスの存在チェックメソッドに渡し、指定した雑誌のレコードが存在するかチェックする。
    1. 存在しない場合、雑誌非存在例外を発生させ、エラー画面に遷移する。
1. 入力チェックを行う。
    1. エラーがある場合は当画面に遷移する。
1. 「雑誌ID」を記事リポジトリクラスの削除メソッドに渡して、削除処理を実行する。
1. 複数の「雑誌ID」「セクション」「タイトル」「開始ページ」を記事リポジトリクラスの登録メソッドに渡して、登録処理を実行する。
1. 登録処理の実行結果を比較
    1. 成功した場合、雑誌一覧画面に遷移する。
    1. 失敗した場合、共通エラー画面に遷移する。

## 索引画面
### 初期表示
1. 「雑誌ID」を雑誌リポジトリクラスの存在チェックメソッドに渡し、指定した雑誌のレコードが存在するかチェックする。
    1. 存在しない場合、雑誌非存在例外を発生させ、エラー画面に遷移する。
1. 「雑誌ID」をキーワードリポジトリクラスの複数レコード取得メソッドに渡し、指定した雑誌のキーワードレコードのリストを取得する。
1. 取得した情報を画面のDTOに詰める。
「indexList.html」の内容を表示する。
### 登録
1. 「雑誌ID」を雑誌リポジトリクラスの存在チェックメソッドに渡し、指定した雑誌のレコードが存在するかチェックする。
    1. 存在しない場合、雑誌非存在例外を発生させ、エラー画面に遷移する。
1. 入力チェックを行う。
    1. エラーがある場合は当画面に遷移する。
1. 「雑誌ID」をキーワードリポジトリクラスの削除メソッドに渡して、削除処理を実行する。
1. 複数の「雑誌ID」「キーワード」「開始ページ」をキーワードリポジトリクラスの登録メソッドに渡して、登録処理を実行する。
1. 登録処理の実行結果を比較
    1. 成功した場合、雑誌一覧画面に遷移する。
    1. 失敗した場合、共通エラー画面に遷移する。
